articles:
  - path: api/admin-authentication-management-operations
    fields:
      name: Admin authentication (management operations)
      describes: []
      title: Admin authentication (management operations)
      description: >-
        Authenticate requests to the InfluxDB Management API.


        With InfluxDB 3 Clustered, InfluxDB Management API endpoints require the
        following credential:


        - `Authorization MANAGEMENT_TOKEN`: the `Authorization` HTTP header with
        a [management token](/influxdb3/clustered/admin/tokens/management/).

          See how to [create a management token](/influxdb3/clustered/admin/tokens/management/).

          By default, management tokens in InfluxDB 3 are short-lived tokens issued by an OAuth2 identity provider that grant a specific user administrative access to your InfluxDB cluster. However, for automation purposes, you can manually create management tokens that authenticate directly with your InfluxDB cluster and do not require human interaction with your identity provider.
      tag: Admin authentication (management operations)
      isConceptual: true
      menuGroup: Other
      operations: []
      tagDescription: >-
        Authenticate requests to the InfluxDB Management API.


        With InfluxDB 3 Clustered, InfluxDB Management API endpoints require the
        following credential:


        - `Authorization MANAGEMENT_TOKEN`: the `Authorization` HTTP header with
        a [management token](/influxdb3/clustered/admin/tokens/management/).

          See how to [create a management token](/influxdb3/clustered/admin/tokens/management/).

          By default, management tokens in InfluxDB 3 are short-lived tokens issued by an OAuth2 identity provider that grant a specific user administrative access to your InfluxDB cluster. However, for automation purposes, you can manually create management tokens that authenticate directly with your InfluxDB cluster and do not require human interaction with your identity provider.
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-admin-authentication-management-operations.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-admin-authentication-management-operations.yaml
  - path: api/authentication
    fields:
      name: Authentication
      describes: []
      title: Authentication
      description: >-
        Authenticate requests to the InfluxDB Management API.


        With InfluxDB 3 Clustered, InfluxDB Management API endpoints require the
        following credential:


        - `Authorization MANAGEMENT_TOKEN`: the `Authorization` HTTP header with
        a [management token](/influxdb3/clustered/admin/tokens/management/).

          See how to [create a management token](/influxdb3/clustered/admin/tokens/management/).

          By default, management tokens in InfluxDB 3 are short-lived tokens issued by an OAuth2 identity provider that grant a specific user administrative access to your InfluxDB cluster. However, for automation purposes, you can manually create management tokens that authenticate directly with your InfluxDB cluster and do not require human interaction with your identity provider.
      tag: Authentication
      isConceptual: false
      menuGroup: Concepts
      operations: []
      showSecuritySchemes: true
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-authentication.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-authentication.yaml
      tagDescription: >-
        Authenticate API requests using tokens, basic auth, or query strings.


        Depending on your workflow, use one of the following schemes to
        authenticate to the InfluxDB 3 API:


        | Authentication scheme | Works with |

        |:-------------------|:-----------|

        | Bearer authentication | All endpoints |

        | Token authentication | v1, v2 endpoints |

        | Basic authentication | v1 endpoints |

        | Querystring authentication | v1 endpoints |
  - path: api/database-tokens
    fields:
      name: Database tokens
      describes:
        - /tokens
        - /tokens/{tokenId}
      title: Database tokens
      description: Manage database read/write tokens for a cluster
      tag: Database tokens
      isConceptual: false
      menuGroup: Other
      operations:
        - operationId: GetDatabaseTokens
          method: GET
          path: /tokens
          summary: Get all database tokens for a cluster
          tags:
            - Database tokens
        - operationId: CreateDatabaseToken
          method: POST
          path: /tokens
          summary: Create a database token
          tags:
            - Database tokens
        - operationId: GetDatabaseToken
          method: GET
          path: /tokens/{tokenId}
          summary: Get a database token
          tags:
            - Database tokens
        - operationId: UpdateDatabaseToken
          method: PATCH
          path: /tokens/{tokenId}
          summary: Update a database token
          tags:
            - Database tokens
        - operationId: DeleteDatabaseToken
          method: DELETE
          path: /tokens/{tokenId}
          summary: Delete a database token
          tags:
            - Database tokens
      tagDescription: Manage database read/write tokens for a cluster
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-database-tokens.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-database-tokens.yaml
  - path: api/databases
    fields:
      name: Databases
      describes:
        - /databases
        - /databases/{databaseName}
      title: Databases
      description: Manage databases for a cluster
      tag: Databases
      isConceptual: false
      menuGroup: Other
      operations:
        - operationId: GetClusterDatabases
          method: GET
          path: /databases
          summary: Get all databases for a cluster
          tags:
            - Databases
        - operationId: CreateClusterDatabase
          method: POST
          path: /databases
          summary: Create a database
          tags:
            - Databases
        - operationId: UpdateClusterDatabase
          method: PATCH
          path: /databases/{databaseName}
          summary: Update a database
          tags:
            - Databases
        - operationId: DeleteClusterDatabase
          method: DELETE
          path: /databases/{databaseName}
          summary: Delete a database
          tags:
            - Databases
      tagDescription: Manage databases for a cluster
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-databases.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-databases.yaml
  - path: api/management-authentication-admin-operations
    fields:
      name: Management authentication (admin operations)
      describes: []
      title: Management authentication (admin operations)
      description: >-
        Authenticate requests to the InfluxDB Management API.


        With InfluxDB 3 Clustered, InfluxDB Management API endpoints require the
        following credential:


        - `Authorization MANAGEMENT_TOKEN`: the `Authorization` HTTP header with
        a [management token](/influxdb3/clustered/admin/tokens/management/).

          See how to [create a management token](/influxdb3/clustered/admin/tokens/management/).

          By default, management tokens in InfluxDB 3 are short-lived tokens issued by an OAuth2 identity provider that grant a specific user administrative access to your InfluxDB cluster. However, for automation purposes, you can manually create management tokens that authenticate directly with your InfluxDB cluster and do not require human interaction with your identity provider.
      tag: Management authentication (admin operations)
      isConceptual: false
      menuGroup: Other
      operations: []
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-management-authentication-admin-operations.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-management-authentication-admin-operations.yaml
  - path: api/quick-start
    fields:
      name: Quick start
      describes: []
      title: Quick start
      description: >-
        Get started quickly with example API requests.


        The following example script shows how to use `curl` to make database
        and token management requests:


        ```shell
         #!/bin/bash

         # Usage:
         # Note the leading space in the command below to keep secrets out of the shell history
         #
         # ```
         #  MANAGEMENT_TOKEN=<MANAGEMENT_TOKEN> ./scripts/test_http_api_v0_endpoints.sh
         # ```

         # Env var validation
         if [ -z "${MANAGEMENT_TOKEN}" ]; then
           echo "
         [Error]: âŒ
           \$MANAGEMENT_TOKEN env var is required.
             "
             exit 1
         fi

        HOST="https://cluster-host.com"

         # Database request functions
         list_databases () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         create_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases" \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "name": "'$databaseName'",
                 "maxTables": 75,
                 "maxColumnsPerTable": 90,
                 "retentionPeriod": 600000000000,
                 "partitionTemplate": [
                   {
                     "type": "tag",
                     "value": "abc"
                   },
                   {
                     "type": "bucket",
                     "value": {
                       "tagName": "def",
                       "numberOfBuckets": 5
                     }
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         update_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases/$databaseName" \
               --request PATCH \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "maxTables": 150,
                 "maxColumnsPerTable": 180,
                 "retentionPeriod": 1200000000000
               }' \
           )
           echo "$response"
         }

         delete_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases/$databaseName" \
               --request DELETE \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         # Token request functions
         list_tokens () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         create_token () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens" \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "description": "my test token",
                 "permissions": [
                   {
                     "action": "write",
                     "resource": "database_one"
                   },
                   {
                     "action": "read",
                     "resource": "database_two"
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         get_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         update_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --request PATCH \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "description": "my updated test token",
                 "permissions": [
                   {
                     "action": "database_one",
                     "resource": "read"
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         delete_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --request DELETE \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         # Test database endpoints
         databaseName="test_database_$RANDOM"

         printf "\nðŸ—ï¸   Creating database...  ðŸ—ï¸\n\n"
         response="$(create_database $databaseName)"
         echo $response | jq
         printf "\nðŸ—ï¸   Creating database successful  ðŸ—ï¸\n\n"

         printf "\nâ¬†ï¸   Updating database...  â¬†ï¸\n\n"
         response="$(update_database $databaseName)"
         echo $response | jq
         printf "\nâ¬†ï¸   Updating database successful  â¬†ï¸\n\n"

         printf "\nâ¬‡ï¸   Listing databases...  â¬‡ï¸\n\n"
         response="$(list_databases)"
         echo $response | jq
         printf "\nâ¬‡ï¸   Listing databases successful  â¬‡ï¸\n\n"

         printf "\nðŸ—‘ï¸   Deleting database...  ðŸ—‘ï¸\n\n"
         response="$(delete_database $databaseName)"
         echo $response | jq
         printf "\nðŸ—‘ï¸   Deleting database successful  ðŸ—‘ï¸\n\n"

         # Test token endpoints
         printf "\nðŸ—ï¸   Creating token...  ðŸ—ï¸\n\n"
         response="$(create_token)"
         echo $response | jq
         tokenId=$(echo $response | jq '.id')
         printf "\nðŸ—ï¸   Creating token successful  ðŸ—ï¸\n\n"

         printf "\nâ¬‡ï¸   Getting token...  â¬‡ï¸\n\n"
         response="$(get_token $tokenId)"
         echo $response | jq
         printf "\nâ¬‡ï¸   Getting token successful  â¬‡ï¸\n\n"

         printf "\nâ¬†ï¸   Updating token...  â¬†ï¸\n\n"
         response="$(update_token $tokenId)"
         echo $response | jq
         printf "\nâ¬†ï¸   Updating token successful  â¬†ï¸\n\n"

         printf "\nðŸ“‹   Listing tokens...  ðŸ“‹\n\n"
         response="$(list_tokens)"
         echo $response | jq
         printf "\nðŸ“‹   Listing tokens successful  ðŸ“‹\n\n"

         printf "\nðŸ—‘ï¸   Deleting token...  ðŸ—‘ï¸\n\n"
         response="$(delete_token $tokenId)"
         echo $response | jq
         printf "\nðŸ—‘ï¸   Deleting token successful  ðŸ—‘ï¸\n\n"
             ```
      tag: Quick start
      isConceptual: true
      menuGroup: Concepts
      operations: []
      tagDescription: >-
        Get started quickly with example API requests.


        The following example script shows how to use `curl` to make database
        and token management requests:


        ```shell
         #!/bin/bash

         # Usage:
         # Note the leading space in the command below to keep secrets out of the shell history
         #
         # ```
         #  MANAGEMENT_TOKEN=<MANAGEMENT_TOKEN> ./scripts/test_http_api_v0_endpoints.sh
         # ```

         # Env var validation
         if [ -z "${MANAGEMENT_TOKEN}" ]; then
           echo "
         [Error]: âŒ
           \$MANAGEMENT_TOKEN env var is required.
             "
             exit 1
         fi

        HOST="https://cluster-host.com"

         # Database request functions
         list_databases () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         create_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases" \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "name": "'$databaseName'",
                 "maxTables": 75,
                 "maxColumnsPerTable": 90,
                 "retentionPeriod": 600000000000,
                 "partitionTemplate": [
                   {
                     "type": "tag",
                     "value": "abc"
                   },
                   {
                     "type": "bucket",
                     "value": {
                       "tagName": "def",
                       "numberOfBuckets": 5
                     }
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         update_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases/$databaseName" \
               --request PATCH \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "maxTables": 150,
                 "maxColumnsPerTable": 180,
                 "retentionPeriod": 1200000000000
               }' \
           )
           echo "$response"
         }

         delete_database () {
           local databaseName=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/databases/$databaseName" \
               --request DELETE \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         # Token request functions
         list_tokens () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         create_token () {
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens" \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "description": "my test token",
                 "permissions": [
                   {
                     "action": "write",
                     "resource": "database_one"
                   },
                   {
                     "action": "read",
                     "resource": "database_two"
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         get_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         update_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --request PATCH \
               --header "Accept: application/json" \
               --header 'Content-Type: application/json' \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
               --data '{
                 "description": "my updated test token",
                 "permissions": [
                   {
                     "action": "database_one",
                     "resource": "read"
                   }
                 ]
               }' \
           )
           echo "$response"
         }

         delete_token () {
           local token_id=$1
           local response=$( \
             curl \
               --location "$HOST/api/v0/tokens/$tokenId" \
               --request DELETE \
               --header "Accept: application/json" \
               --header "Authorization: Bearer $MANAGEMENT_TOKEN" \
           )
           echo "$response"
         }

         # Test database endpoints
         databaseName="test_database_$RANDOM"

         printf "\nðŸ—ï¸   Creating database...  ðŸ—ï¸\n\n"
         response="$(create_database $databaseName)"
         echo $response | jq
         printf "\nðŸ—ï¸   Creating database successful  ðŸ—ï¸\n\n"

         printf "\nâ¬†ï¸   Updating database...  â¬†ï¸\n\n"
         response="$(update_database $databaseName)"
         echo $response | jq
         printf "\nâ¬†ï¸   Updating database successful  â¬†ï¸\n\n"

         printf "\nâ¬‡ï¸   Listing databases...  â¬‡ï¸\n\n"
         response="$(list_databases)"
         echo $response | jq
         printf "\nâ¬‡ï¸   Listing databases successful  â¬‡ï¸\n\n"

         printf "\nðŸ—‘ï¸   Deleting database...  ðŸ—‘ï¸\n\n"
         response="$(delete_database $databaseName)"
         echo $response | jq
         printf "\nðŸ—‘ï¸   Deleting database successful  ðŸ—‘ï¸\n\n"

         # Test token endpoints
         printf "\nðŸ—ï¸   Creating token...  ðŸ—ï¸\n\n"
         response="$(create_token)"
         echo $response | jq
         tokenId=$(echo $response | jq '.id')
         printf "\nðŸ—ï¸   Creating token successful  ðŸ—ï¸\n\n"

         printf "\nâ¬‡ï¸   Getting token...  â¬‡ï¸\n\n"
         response="$(get_token $tokenId)"
         echo $response | jq
         printf "\nâ¬‡ï¸   Getting token successful  â¬‡ï¸\n\n"

         printf "\nâ¬†ï¸   Updating token...  â¬†ï¸\n\n"
         response="$(update_token $tokenId)"
         echo $response | jq
         printf "\nâ¬†ï¸   Updating token successful  â¬†ï¸\n\n"

         printf "\nðŸ“‹   Listing tokens...  ðŸ“‹\n\n"
         response="$(list_tokens)"
         echo $response | jq
         printf "\nðŸ“‹   Listing tokens successful  ðŸ“‹\n\n"

         printf "\nðŸ—‘ï¸   Deleting token...  ðŸ—‘ï¸\n\n"
         response="$(delete_token $tokenId)"
         echo $response | jq
         printf "\nðŸ—‘ï¸   Deleting token successful  ðŸ—‘ï¸\n\n"
             ```
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-quick-start.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-quick-start.yaml
  - path: api/tables
    fields:
      name: Tables
      describes:
        - /databases/{databaseName}/tables
      title: Tables
      description: Manage tables in a database
      tag: Tables
      isConceptual: false
      menuGroup: Other
      operations:
        - operationId: CreateClusterDatabaseTable
          method: POST
          path: /databases/{databaseName}/tables
          summary: Create a database table
          tags:
            - Tables
      tagDescription: Manage tables in a database
      source: >-
        static/openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-tables.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/management-api/tags/influxdb-clustered-management-api-tables.yaml
  - path: api/api-compatibility
    fields:
      name: API compatibility
      describes: []
      title: API compatibility
      description: >-
        Use InfluxDB v1 and v2 compatible endpoints to write and query data.


        ### Write data


        InfluxDB 3 Clustered provides the following HTTP API endpoints for
        writing data:


        - **Recommended**: [`/api/v2/write` endpoint](/influxdb3/clustered/api/)
        for new write workloads or for bringing existing InfluxDB v2 write
        workloads to InfluxDB 3.

        - [`/write` endpoint](/influxdb3/clustered/api/) for bringing existing
        InfluxDB v1 write workloads to InfluxDB 3.


        Both endpoints accept the same line protocol format and process data in
        the same way.


        ### Query data


        InfluxDB 3 Clustered provides the following protocols for executing a
        query:


        - **Recommended**: _Flight+gRPC_ request that contains an SQL or
        InfluxQL query. See how to [get started querying InfluxDB using Flight
        and SQL](/influxdb3/clustered/get-started/query/).

        - HTTP API [`/query` request](/influxdb3/clustered/api/) that contains
        an InfluxQL query.
          Use this protocol when bringing existing InfluxDB v1 query workloads to InfluxDB 3.

        ### InfluxDB v2 compatibility


        The HTTP API [`/api/v2/write` endpoint](/influxdb3/clustered/api/) works
        with the `Bearer` and `Token` authentication schemes and existing
        InfluxDB 2.x tools and code for [writing
        data](/influxdb3/clustered/write-data/).


        See how to [use the InfluxDB v2 HTTP API with InfluxDB 3 Clustered
        ](/influxdb3/clustered/guides/api-compatibility/v2/).


        ### InfluxDB v1 compatibility


        The HTTP API [`/write` endpoint](/influxdb3/clustered/api/) and
        [`/query` endpoint](/influxdb3/clustered/api/) work with InfluxDB 1.x
        username/password authentication schemes and existing InfluxDB 1.x tools
        and code.


        See how to [use the InfluxDB v1 HTTP API with InfluxDB 3 Clustered
        ](/influxdb3/clustered/guides/api-compatibility/v1/).
      tag: API compatibility
      isConceptual: true
      menuGroup: Other
      operations: []
      tagDescription: >-
        Use InfluxDB v1 and v2 compatible endpoints to write and query data.


        ### Write data


        InfluxDB 3 Clustered provides the following HTTP API endpoints for
        writing data:


        - **Recommended**: [`/api/v2/write` endpoint](/influxdb3/clustered/api/)
        for new write workloads or for bringing existing InfluxDB v2 write
        workloads to InfluxDB 3.

        - [`/write` endpoint](/influxdb3/clustered/api/) for bringing existing
        InfluxDB v1 write workloads to InfluxDB 3.


        Both endpoints accept the same line protocol format and process data in
        the same way.


        ### Query data


        InfluxDB 3 Clustered provides the following protocols for executing a
        query:


        - **Recommended**: _Flight+gRPC_ request that contains an SQL or
        InfluxQL query. See how to [get started querying InfluxDB using Flight
        and SQL](/influxdb3/clustered/get-started/query/).

        - HTTP API [`/query` request](/influxdb3/clustered/api/) that contains
        an InfluxQL query.
          Use this protocol when bringing existing InfluxDB v1 query workloads to InfluxDB 3.

        ### InfluxDB v2 compatibility


        The HTTP API [`/api/v2/write` endpoint](/influxdb3/clustered/api/) works
        with the `Bearer` and `Token` authentication schemes and existing
        InfluxDB 2.x tools and code for [writing
        data](/influxdb3/clustered/write-data/).


        See how to [use the InfluxDB v2 HTTP API with InfluxDB 3 Clustered
        ](/influxdb3/clustered/guides/api-compatibility/v2/).


        ### InfluxDB v1 compatibility


        The HTTP API [`/write` endpoint](/influxdb3/clustered/api/) and
        [`/query` endpoint](/influxdb3/clustered/api/) work with InfluxDB 1.x
        username/password authentication schemes and existing InfluxDB 1.x tools
        and code.


        See how to [use the InfluxDB v1 HTTP API with InfluxDB 3 Clustered
        ](/influxdb3/clustered/guides/api-compatibility/v1/).
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-api-compatibility.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-api-compatibility.yaml
  - path: api/common-parameters
    fields:
      name: Common parameters
      describes: []
      title: Common parameters
      description: >-
        Parameters for specifying resources in API requests.


        To specify resources, some InfluxDB API endpoints require parameters or

        properties in the request--for example,

        writing to a `database` resource.


        ### Common parameters


        | Query parameter          | Value type            |
        Description                                |

        |:------------------------ |:---------------------
        |:-------------------------------------------|

        | `database`, `db`                 | string        | The database name |
      tag: Common parameters
      isConceptual: true
      menuGroup: Other
      operations: []
      tagDescription: >-
        Parameters for specifying resources in API requests.


        To specify resources, some InfluxDB API endpoints require parameters or

        properties in the request--for example,

        writing to a `database` resource.


        ### Common parameters


        | Query parameter          | Value type            |
        Description                                |

        |:------------------------ |:---------------------
        |:-------------------------------------------|

        | `database`, `db`                 | string        | The database name |
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-common-parameters.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-common-parameters.yaml
  - path: api/headers
    fields:
      name: Headers
      describes: []
      title: Headers
      description: >-
        InfluxDB HTTP API endpoints use standard HTTP request and response
        headers.

        The following table shows common headers used by many InfluxDB API
        endpoints.

        Some endpoints may use other headers that perform functions more
        specific to those endpoints--for example,

        the `POST /api/v2/write` endpoint accepts the `Content-Encoding` header
        to indicate the compression applied to line protocol in the request
        body.


        | Header                   | Value type            |
        Description                                |

        |:------------------------ |:---------------------
        |:-------------------------------------------|

        | `Accept`                 | string                | The content type
        that the client can understand. |

        | `Authorization`          | string                | The [authorization
        scheme and credential](/influxdb3/clustered/api/authentication/). |

        | `Content-Length`         | integer               | The size of the
        entity-body, in bytes, sent to the database. |

        | `Content-Type`           | string                | The format of the
        data in the request body. |
      tag: Headers
      isConceptual: true
      menuGroup: Other
      operations: []
      tagDescription: >-
        InfluxDB HTTP API endpoints use standard HTTP request and response
        headers.

        The following table shows common headers used by many InfluxDB API
        endpoints.

        Some endpoints may use other headers that perform functions more
        specific to those endpoints--for example,

        the `POST /api/v2/write` endpoint accepts the `Content-Encoding` header
        to indicate the compression applied to line protocol in the request
        body.


        | Header                   | Value type            |
        Description                                |

        |:------------------------ |:---------------------
        |:-------------------------------------------|

        | `Accept`                 | string                | The content type
        that the client can understand. |

        | `Authorization`          | string                | The [authorization
        scheme and credential](/influxdb3/clustered/api/authentication/). |

        | `Content-Length`         | integer               | The size of the
        entity-body, in bytes, sent to the database. |

        | `Content-Type`           | string                | The format of the
        data in the request body. |
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-headers.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-headers.yaml
  - path: api/ping
    fields:
      name: Ping
      describes:
        - /ping
      title: Ping
      description: API reference for Ping
      tag: Ping
      isConceptual: false
      menuGroup: Other
      operations:
        - operationId: GetPing
          method: GET
          path: /ping
          summary: Get the status of the instance
          tags:
            - Ping
        - operationId: HeadPing
          method: HEAD
          path: /ping
          summary: Get the status of the instance
          tags:
            - Ping
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-ping.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-ping.yaml
  - path: api/query-data
    fields:
      name: Query data
      describes:
        - /query
      title: Query data
      description: >-
        Query data stored in a database.


        - HTTP clients can query the v1 [`/query`
        endpoint](/influxdb3/clustered/api/)

        using **InfluxQL** and retrieve data in **CSV** or **JSON** format.

        - The `/api/v2/query` endpoint can't query InfluxDB 3 Clustered.

        - _Flight + gRPC_ clients can query using **SQL** or **InfluxQL** and
        retrieve data in **Arrow** format.


        #### Related guides


        - [Get started querying
        InfluxDB](/influxdb3/clustered/get-started/query/)

        - [Execute queries](/influxdb3/clustered/query-data/execute-queries/)
      tag: Query data
      isConceptual: false
      menuGroup: Data Operations
      operations:
        - operationId: GetLegacyQuery
          method: GET
          path: /query
          summary: Query using the InfluxDB v1 HTTP API
          tags:
            - Query data
      tagDescription: >-
        Query data stored in a database.


        - HTTP clients can query the v1 [`/query`
        endpoint](/influxdb3/clustered/api/)

        using **InfluxQL** and retrieve data in **CSV** or **JSON** format.

        - The `/api/v2/query` endpoint can't query InfluxDB 3 Clustered.

        - _Flight + gRPC_ clients can query using **SQL** or **InfluxQL** and
        retrieve data in **Arrow** format.


        #### Related guides


        - [Get started querying
        InfluxDB](/influxdb3/clustered/get-started/query/)

        - [Execute queries](/influxdb3/clustered/query-data/execute-queries/)
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-query-data.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-query-data.yaml
  - path: api/response-codes
    fields:
      name: Response codes
      describes: []
      title: Response codes
      description: >-
        InfluxDB HTTP API endpoints use standard HTTP status codes for success
        and failure responses.

        The response body may include additional details.

        For details about a specific operation's response,

        see **Responses** and **Response Samples** for that operation.


        API operations may return the following HTTP status codes:


        | &nbsp;Code&nbsp; | Status                   | Description      |

        |:-----------:|:------------------------ |:--------------------- |

        | `200`       | Success                  |                       |

        | `204`       | Success. No content      | InfluxDB doesn't return data
        for the request. For example, a successful write request returns `204`
        status code, acknowledging that data is written and queryable. |

        | `400`       | Bad request              | InfluxDB can't parse the
        request due to an incorrect parameter or bad syntax. If line protocol in
        the request body is malformed. The response body contains the first
        malformed line and indicates what was expected. For partial writes, the
        number of points written and the number of points rejected are also
        included. |

        | `401`       | Unauthorized             | May indicate one of the
        following: <ul><li>`Authorization: Token` header is missing or
        malformed</li><li>API token value is missing from the header</li><li>API
        token doesn't have permission. For more information about token types
        and permissions, see [Manage
        tokens](/influxdb3/clustered/admin/tokens/)</li></ul> |

        | `404`       | Not found                | Requested resource was not
        found. `message` in the response body provides details about the
        requested resource. |

        | `405`       | Method not allowed       | The API path doesn't support
        the HTTP method used in the request--for example, you send a `POST`
        request to an endpoint that only allows `GET`. |

        | `413`       | Request entity too large | Request payload exceeds the
        size limit. |

        | `422`       | Unprocessable entity     | Request data is invalid.
        `code` and `message` in the response body provide details about the
        problem. |

        | `429`       | Too many requests        | API token is temporarily over
        the request quota. The `Retry-After` header describes when to try the
        request again. |

        | `500`       | Internal server error    |                       |

        | `503`       | Service unavailable      | Server is temporarily
        unavailable to process the request. The `Retry-After` header describes
        when to try the request again. |
      tag: Response codes
      isConceptual: true
      menuGroup: Concepts
      operations: []
      tagDescription: >-
        InfluxDB HTTP API endpoints use standard HTTP status codes for success
        and failure responses.

        The response body may include additional details.

        For details about a specific operation's response,

        see **Responses** and **Response Samples** for that operation.


        API operations may return the following HTTP status codes:


        | &nbsp;Code&nbsp; | Status                   | Description      |

        |:-----------:|:------------------------ |:--------------------- |

        | `200`       | Success                  |                       |

        | `204`       | Success. No content      | InfluxDB doesn't return data
        for the request. For example, a successful write request returns `204`
        status code, acknowledging that data is written and queryable. |

        | `400`       | Bad request              | InfluxDB can't parse the
        request due to an incorrect parameter or bad syntax. If line protocol in
        the request body is malformed. The response body contains the first
        malformed line and indicates what was expected. For partial writes, the
        number of points written and the number of points rejected are also
        included. |

        | `401`       | Unauthorized             | May indicate one of the
        following: <ul><li>`Authorization: Token` header is missing or
        malformed</li><li>API token value is missing from the header</li><li>API
        token doesn't have permission. For more information about token types
        and permissions, see [Manage
        tokens](/influxdb3/clustered/admin/tokens/)</li></ul> |

        | `404`       | Not found                | Requested resource was not
        found. `message` in the response body provides details about the
        requested resource. |

        | `405`       | Method not allowed       | The API path doesn't support
        the HTTP method used in the request--for example, you send a `POST`
        request to an endpoint that only allows `GET`. |

        | `413`       | Request entity too large | Request payload exceeds the
        size limit. |

        | `422`       | Unprocessable entity     | Request data is invalid.
        `code` and `message` in the response body provide details about the
        problem. |

        | `429`       | Too many requests        | API token is temporarily over
        the request quota. The `Retry-After` header describes when to try the
        request again. |

        | `500`       | Internal server error    |                       |

        | `503`       | Service unavailable      | Server is temporarily
        unavailable to process the request. The `Retry-After` header describes
        when to try the request again. |
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-response-codes.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-response-codes.yaml
  - path: api/write-data
    fields:
      name: Write data
      describes:
        - /api/v2/write
        - /write
      title: Write data
      description: >-
        Write time series data to
        [databases](/influxdb3/clustered/admin/databases/) using InfluxDB v1 or
        v2 endpoints.
      tag: Write data
      isConceptual: false
      menuGroup: Data Operations
      operations:
        - operationId: PostWrite
          method: POST
          path: /api/v2/write
          summary: Write data using the InfluxDB v2 HTTP API
          tags:
            - Write data
        - operationId: PostLegacyWrite
          method: POST
          path: /write
          summary: Write data using the InfluxDB v1 HTTP API
          tags:
            - Write data
      tagDescription: >-
        Write time series data to
        [databases](/influxdb3/clustered/admin/databases/) using InfluxDB v1 or
        v2 endpoints.
      source: >-
        static/openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-write-data.yaml
      staticFilePath: >-
        /openapi/influxdb-clustered/v2-data-api/tags/influxdb-clustered-v2-data-api-write-data.yaml
