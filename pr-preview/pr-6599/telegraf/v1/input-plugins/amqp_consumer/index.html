



<!doctype html>
<html lang="en">
  <head>
    

<script async src="https://www.googletagmanager.com/gtag/js?id=G-CNWQ54SDD8"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-CNWQ54SDD8', {
    'send_page_view': true,
    'transport_type': 'beacon'
  });
</script>


    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    








  
    
  




  
  
  





<title>&lt;nil&gt; Documentation</title>


    <meta name="description" content="Telegraf plugin for collecting metrics from AMQP Consumer">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="shortcut icon" href="/img/favicon.png" type="image/png" sizes="32x32">

    






    
  
    
  
    
  
    
  
    
  
    
  







  








  
  
    
      <script type="module" src="/docs-v2/pr-preview/pr-6599/js/main.js"></script>
    
  

    










<link rel="canonical" href="https://influxdata.github.io/docs-v2/pr-preview/pr-6599/docs-v2/pr-preview/pr-6599/telegraf/v1/input-plugins/amqp_consumer/" />

    
<style>
  body {
    visibility: hidden;
  }
</style>


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsearch.js@2/dist/cdn/docsearch.min.css"/>









<link rel="stylesheet" title="light-theme" type="text/css" href="/docs-v2/pr-preview/pr-6599/light-theme.8d5433f1b1d5c0b801a1f0e47e57e6de0bbdb1a3be335988a8db0424be68b7df.css">


<link rel="alternate stylesheet" title="dark-theme" type="text/css" href="/docs-v2/pr-preview/pr-6599/dark-theme.153183ad3915586035a473fc442de137ec8ba307b7f7d87160f893857e6bf11d.css">


<link rel="stylesheet" title="sidebar-open" type="text/css" href="/docs-v2/pr-preview/pr-6599/dark-theme.56ede7c71d3385876a1c762e207372a1699e829612d789f952885f820d50394a.css">


<link rel="alternate stylesheet" title="sidebar-closed" type="text/css" href="/docs-v2/pr-preview/pr-6599/light-theme.b9796198db2f4e595588f9612cc06faa5b6f61322119b20af095d82a792468f7.css">


<link rel="stylesheet" type="text/css" href="/docs-v2/pr-preview/pr-6599/api.css">

    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Mono:ital,wght@0,500;0,700;1,500;1,700&family=Rubik:ital,wght@0,400;0,500;0,700;1,400;1,500;1,700&display=swap" rel="stylesheet">
    








  
  
    <meta name="docsearch:searchTag" content="docs-v2-pr-preview">
  





    





<meta name="latest" content="false">
<meta name="last-modified" content="2025-12-10 17:05:06 &#43;0100 &#43;0100">
    
<script type="text/javascript">
(function() {
  var didInit = false;
  function initMunchkin() {
    if(didInit === false) {
      didInit = true;
      Munchkin.init('972-GDU-533');
    }
  }
  var s = document.createElement('script');
  s.type = 'text/javascript';
  s.async = true;
  s.src = '//munchkin.marketo.net/munchkin.js';
  s.onreadystatechange = function() {
    if (this.readyState == 'complete' || this.readyState == 'loaded') {
      initMunchkin();
    }
  };
  s.onload = initMunchkin;
  document.getElementsByTagName('head')[0].appendChild(s);
})();
</script>


<img referrerpolicy="no-referrer-when-downgrade" src="https://static.scarf.sh/a.png?x-pxid=5581ee6b-3e7c-42b8-a507-38ea055c35ca"/>



    <meta name="Copyright" content="InfluxData Inc." />
  </head>
  <body class='docs-v2' data-component="theme" data-theme-callback="setVisibility">
    
<noscript>
  <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXRH9C" height="0" width="0" style="display:none;visibility:hidden"></iframe>
</noscript>







<div class="topnav">
  <div class="topnav-left">
    <a class="influx-home" href="https://www.influxdata.com" title="InfluxData"><span
        class="icon-influx-logo"></span><span class="icon-influx-logotype"></span></a>
    <span class="divider"></span>
    <a class="docs-home" href="/"><span class=short>Doc</span><span class="long">umentation</span></a>
  </div>
  <div class="topnav-right">
    <div class="selector-dropdowns">
      





























<div class="product-list" data-component="product-selector">
  <div id="product-dropdown">
    <p class="selected">Select product</p>
  </div>
  <div id="dropdown-items">
    <div class="product-group">
      <div class="group-title"><p>InfluxDB 3</p></div>
      <ul class="item-list products" data-category="Self-managed">
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/core/' >InfluxDB 3 Core <span class="state">New</span></a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/enterprise/' >InfluxDB 3 Enterprise <span class="state">New</span></a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/clustered/' >InfluxDB Clustered</a>
</li>
      </ul>
      <ul class="item-list products" data-category="Fully-Managed">
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/cloud-serverless/' >InfluxDB Cloud Serverless</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/cloud-dedicated/' >InfluxDB Cloud Dedicated</a>
</li>
      </ul>
      <ul class="item-list products" data-category="Tools">
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb3/explorer/' >InfluxDB 3 Explorer <span class="state">New</span></a>
</li>
      </ul>
    </div>
    <div class="product-group">
      <div class="group-title"><p>InfluxDB 2</p></div>
      <ul class="item-list products">
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb/v2/' >InfluxDB OSS v2</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb/cloud/' >InfluxDB Cloud (TSM)</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/flux/v0/' >Flux</a>
</li>
      </ul>
    </div>
    <div class="product-group">
      <div class="group-title"><p>InfluxDB 1</p></div>
      <ul class="item-list products">
        <li>
  
  
  
  
  
  
  
  <a href='/influxdb/v1/' >InfluxDB OSS v1</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/enterprise_influxdb/v1/' >InfluxDB Enterprise</a>
</li>
      </ul>
    </div>
    <div class="product-group">
      <div class="group-title"><p>Other products</p></div>
      <ul class="item-list products">
        <li>
  
  
  
  
  
  
  
  <a href='/telegraf/v1/' class="active">Telegraf</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/chronograf/v1/' >Chronograf</a>
</li>
        <li>
  
  
  
  
  
  
  
  <a href='/kapacitor/v1/' >Kapacitor</a>
</li>
      </ul>
    </div>
  </div>
</div>


    </div>
    <div class="buttons">
      <div class="search-btn" data-component="search-button">
        <button id="search-btn" data-action="toggle"><span class="cf-icon Search_New"></span></button>
      </div>
      <button class="url-trigger" href="#"><span class="cf-icon CogSolid_New"></span></button>
      <span data-component="theme-switch">
        <button class="theme-switch theme-switch-light">
          <span class="cf-icon Lightmode_New"></span></button>
        <button class="theme-switch theme-switch-dark">
          <span class="cf-icon Darkmode_New"></span></button>
      </span>
    </div>
  </div>
</div>

<div class="page-wrapper">
  








  











  




<aside class="sidebar">
  <div class="sidebar-toggle" data-component="sidebar-toggle" data-state="closed" ><a data-action="toggle" href="#"><span
      class="cf-icon SidebarClose"></span></a></div>
  <div class="search-and-nav-toggle">
    <div class="sidebar--search" data-component="sidebar-search">
      <input  class="sidebar--search-field"
              id="algolia-search-input"
              type="text"
              accesskey="s"
              autocomplete="off"
              autocorrect="off"
              autocapitalize="off"
              spellcheck="false"
              dir="auto"
              placeholder='Search the docs'>
    </div>
    <a id="contents-toggle-btn" href="#">
      <span class="toggle-hamburger"></span>
    </a>
  </div>
  <ul id="nav-tree">

  
  
  

  
  





  
  
  
  
  



  
  

  
  
  
  
  

  
  
  

  
  
  
  

  </ul>
</aside>

  <div class="content-wrapper">
    <div class="sidebar-toggle" data-component="sidebar-toggle" data-state="open" ><a data-action="toggle" href="#"><span
      class="cf-icon SidebarOpen"></span></a></div>
    <div class="article">
  <article class="article--content">
    <div class="title">
      <h1></h1>
      






<ul class="metadata">
  <li>
    &lt;nil&gt; v1.3.0+
  </li>
  
</ul>

      
      <div
  class="format-selector"
  data-component="format-selector"
  data-child-count="0"
  data-estimated-tokens="0"
  data-section-download-url="/docs-v2/pr-preview/pr-6599/telegraf/v1/input-plugins/amqp_consumer/-download.zip">
  
  <button
    class="format-selector__button"
    aria-haspopup="true"
    aria-expanded="false"
    aria-label="Copy section for AI - Access documentation in different formats"
  >
    <span class="format-selector__button-icon">
      
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M9 1H3C2.44772 1 2 1.44772 2 2V14C2 14.5523 2.44772 15 3 15H13C13.5523 15 14 14.5523 14 14V6L9 1Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
        <path d="M9 1V6H14" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </span>
    <span class="format-selector__button-text" data-button-text>
      Copy section for AI
    </span>
    <span class="format-selector__button-arrow">
      
      <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M3 4.5L6 7.5L9 4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
    </span>
  </button>

  
  <div
    class="format-selector__dropdown"
    data-dropdown-menu
    role="menu"
    aria-label="Format options"
  >
    
  </div>
</div>
    </div>
    









    
























    





    




    
    




  <h1 id="amqp-consumer-input-plugin">AMQP Consumer Input Plugin</h1>
<p>This plugin consumes messages from an Advanced Message Queuing Protocol v0.9.1
broker. A prominent implementation of this protocol is <a href="https://www.rabbitmq.com">RabbitMQ</a>.</p>
<p>Metrics are read from a topic exchange using the configured queue and binding
key. The message payloads must be formatted in one of the supported
<a href="/telegraf/v1/data_formats/input">data formats</a>.</p>
<p>For an introduction check the <a href="https://www.rabbitmq.com/tutorials/amqp-concepts.html">AMQP concepts page</a> and the
<a href="https://www.rabbitmq.com/getstarted.html">RabbitMQ getting started guide</a>.</p>
<p><strong>Introduced in:</strong> Telegraf v1.3.0
<strong>Tags:</strong> messaging
<strong>OS support:</strong> all</p>
<h2 id="service-input">Service Input <!-- @/docs/includes/service_input.md --></h2>
<p>This plugin is a service input. Normal plugins gather metrics determined by the
interval setting. Service plugins start a service to listen and wait for
metrics or events to occur. Service plugins have two key differences from
normal plugins:</p>
<ol>
<li>The global or plugin specific <code>interval</code> setting may not apply</li>
<li>The CLI options of <code>--test</code>, <code>--test-wait</code>, and <code>--once</code> may not produce
output for this plugin</li>
</ol>
<h2 id="global-configuration-options">Global configuration options <!-- @/docs/includes/plugin_config.md --></h2>
<p>Plugins support additional global and plugin configuration settings for tasks
such as modifying metrics, tags, and fields, creating aliases, and configuring
plugin ordering. See <a href="/telegraf/v1/configuration/#plugins">CONFIGURATION.md</a> for more details.</p>
<h2 id="startup-error-behavior-options">Startup error behavior options <!-- @/docs/includes/startup_error_behavior.md --></h2>
<p>In addition to the plugin-specific and global configuration settings the plugin
supports options for specifying the behavior when experiencing startup errors
using the <code>startup_error_behavior</code> setting. Available values are:</p>
<ul>
<li><code>error</code>:  Telegraf with stop and exit in case of startup errors. This is the
default behavior.</li>
<li><code>ignore</code>: Telegraf will ignore startup errors for this plugin and disables it
but continues processing for all other plugins.</li>
<li><code>retry</code>:  Telegraf will try to startup the plugin in every gather or write
cycle in case of startup errors. The plugin is disabled until
the startup succeeds.</li>
<li><code>probe</code>:  Telegraf will probe the plugin&rsquo;s function (if possible) and disables
the plugin in case probing fails. If the plugin does not support
probing, Telegraf will behave as if <code>ignore</code> was set instead.</li>
</ul>
<h2 id="secret-store-support">Secret-store support</h2>
<p>This plugin supports secrets from secret-stores for the <code>username</code> and
<code>password</code> option.
See the <a href="/telegraf/v1/configuration/#secret-store-secrets">secret-store documentation</a> for more details on how
to use them.</p>
<h2 id="configuration">Configuration</h2>


<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-toml" data-lang="toml"><span class="line"><span class="cl"><span class="c"># AMQP consumer plugin</span>
</span></span><span class="line"><span class="cl"><span class="p">[[</span><span class="nx">inputs</span><span class="p">.</span><span class="nx">amqp_consumer</span><span class="p">]]</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Brokers to consume from.  If multiple brokers are specified a random broker</span>
</span></span><span class="line"><span class="cl">  <span class="c">## will be selected anytime a connection is established.  This can be</span>
</span></span><span class="line"><span class="cl">  <span class="c">## helpful for load balancing when not using a dedicated load balancer.</span>
</span></span><span class="line"><span class="cl">  <span class="nx">brokers</span> <span class="p">=</span> <span class="p">[</span><span class="s2">&#34;amqp://localhost:5672/influxdb&#34;</span><span class="p">]</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Authentication credentials for the PLAIN auth_method.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># username = &#34;&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c"># password = &#34;&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Name of the exchange to declare.  If unset, no exchange will be declared.</span>
</span></span><span class="line"><span class="cl">  <span class="nx">exchange</span> <span class="p">=</span> <span class="s2">&#34;telegraf&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Exchange type; common types are &#34;direct&#34;, &#34;fanout&#34;, &#34;topic&#34;, &#34;header&#34;, &#34;x-consistent-hash&#34;.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># exchange_type = &#34;topic&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## If true, exchange will be passively declared.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># exchange_passive = false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Exchange durability can be either &#34;transient&#34; or &#34;durable&#34;.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># exchange_durability = &#34;durable&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Additional exchange arguments.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># exchange_arguments = { }</span>
</span></span><span class="line"><span class="cl">  <span class="c"># exchange_arguments = {&#34;hash_property&#34; = &#34;timestamp&#34;}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## AMQP queue name.</span>
</span></span><span class="line"><span class="cl">  <span class="nx">queue</span> <span class="p">=</span> <span class="s2">&#34;telegraf&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## AMQP queue durability can be &#34;transient&#34; or &#34;durable&#34;.</span>
</span></span><span class="line"><span class="cl">  <span class="nx">queue_durability</span> <span class="p">=</span> <span class="s2">&#34;durable&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## If true, queue will be passively declared.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># queue_passive = false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Additional arguments when consuming from Queue</span>
</span></span><span class="line"><span class="cl">  <span class="c"># queue_consume_arguments = { }</span>
</span></span><span class="line"><span class="cl">  <span class="c"># queue_consume_arguments = {&#34;x-stream-offset&#34; = &#34;first&#34;}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Additional queue arguments.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># queue_arguments = { }</span>
</span></span><span class="line"><span class="cl">  <span class="c"># queue_arguments = {&#34;x-max-length&#34; = 100}</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## A binding between the exchange and queue using this binding key is</span>
</span></span><span class="line"><span class="cl">  <span class="c">## created.  If unset, no binding is created.</span>
</span></span><span class="line"><span class="cl">  <span class="nx">binding_key</span> <span class="p">=</span> <span class="s2">&#34;#&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Maximum number of messages server should give to the worker.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># prefetch_count = 50</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Max undelivered messages</span>
</span></span><span class="line"><span class="cl">  <span class="c">## This plugin uses tracking metrics, which ensure messages are read to</span>
</span></span><span class="line"><span class="cl">  <span class="c">## outputs before acknowledging them to the original broker to ensure data</span>
</span></span><span class="line"><span class="cl">  <span class="c">## is not lost. This option sets the maximum messages to read from the</span>
</span></span><span class="line"><span class="cl">  <span class="c">## broker that have not been written by an output.</span>
</span></span><span class="line"><span class="cl">  <span class="c">##</span>
</span></span><span class="line"><span class="cl">  <span class="c">## This value needs to be picked with awareness of the agent&#39;s</span>
</span></span><span class="line"><span class="cl">  <span class="c">## metric_batch_size value as well. Setting max undelivered messages too high</span>
</span></span><span class="line"><span class="cl">  <span class="c">## can result in a constant stream of data batches to the output. While</span>
</span></span><span class="line"><span class="cl">  <span class="c">## setting it too low may never flush the broker&#39;s messages.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># max_undelivered_messages = 1000</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Timeout for establishing the connection to a broker</span>
</span></span><span class="line"><span class="cl">  <span class="c"># timeout = &#34;30s&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Auth method. PLAIN and EXTERNAL are supported</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Using EXTERNAL requires enabling the rabbitmq_auth_mechanism_ssl plugin as</span>
</span></span><span class="line"><span class="cl">  <span class="c">## described here: https://www.rabbitmq.com/plugins.html</span>
</span></span><span class="line"><span class="cl">  <span class="c"># auth_method = &#34;PLAIN&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Optional TLS Config</span>
</span></span><span class="line"><span class="cl">  <span class="c"># tls_ca = &#34;/etc/telegraf/ca.pem&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c"># tls_cert = &#34;/etc/telegraf/cert.pem&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c"># tls_key = &#34;/etc/telegraf/key.pem&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Use TLS but skip chain &amp; host verification</span>
</span></span><span class="line"><span class="cl">  <span class="c"># insecure_skip_verify = false</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Content encoding for message payloads, can be set to</span>
</span></span><span class="line"><span class="cl">  <span class="c">## &#34;gzip&#34;, &#34;identity&#34; or &#34;auto&#34;</span>
</span></span><span class="line"><span class="cl">  <span class="c">## - Use &#34;gzip&#34; to decode gzip</span>
</span></span><span class="line"><span class="cl">  <span class="c">## - Use &#34;identity&#34; to apply no encoding</span>
</span></span><span class="line"><span class="cl">  <span class="c">## - Use &#34;auto&#34; determine the encoding using the ContentEncoding header</span>
</span></span><span class="line"><span class="cl">  <span class="c"># content_encoding = &#34;identity&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Maximum size of decoded message.</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Acceptable units are B, KiB, KB, MiB, MB...</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Without quotes and units, interpreted as size in bytes.</span>
</span></span><span class="line"><span class="cl">  <span class="c"># max_decompression_size = &#34;500MB&#34;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">  <span class="c">## Data format to consume.</span>
</span></span><span class="line"><span class="cl">  <span class="c">## Each data format has its own unique set of configuration options, read</span>
</span></span><span class="line"><span class="cl">  <span class="c">## more about them here:</span>
</span></span><span class="line"><span class="cl">  <span class="c">## https://github.com/influxdata/telegraf/blob/master/docs/DATA_FORMATS_INPUT.md</span>
</span></span><span class="line"><span class="cl">  <span class="nx">data_format</span> <span class="p">=</span> <span class="s2">&#34;influx&#34;</span></span></span></code></pre></div>
<h2 id="message-acknowledgement-behavior">Message acknowledgement behavior</h2>
<p>This plugin tracks metrics to report the delivery state to the broker.</p>
<p>Messages are <strong>acknowledged</strong> (ACK) in the broker if they were successfully
parsed and delivered to all corresponding output sinks.</p>
<p>Messages are <strong>not acknowledged</strong> (NACK) if parsing of the messages fails and no
metrics were created. In this case requeueing is disabled so messages will not
be sent out to any other queue. The message will then be discarded or sent to a
dead-letter exchange depending on the server configuration. See
<a href="https://www.rabbitmq.com/docs/confirms">RabitMQ documentation</a> for more details.</p>
<p>Messages are <strong>rejected</strong> (REJECT) if the messages were parsed correctly but
could not be delivered e.g. due to output-service outages. Requeueing is
disabled in this case and messages will be discarded by the server. See
<a href="https://www.rabbitmq.com/docs/confirms">RabitMQ documentation</a> for more details.</p>
<h2 id="metrics">Metrics</h2>
<p>The format of metrics produced by this plugin depends on the content and
data format of received messages.</p>
<h2 id="example-output">Example Output</h2>



    

    
    

  <div class="related">
    <h4 id="related">Related</h4>
    <ul>
    
      
      

      
      

      
      

      
      
        
        
          <li><a href="/docs-v2/pr-preview/pr-6599/telegraf/v1/configure_plugins/" >Configure plugins</a></li>
        
      
    
      
      

      
      
        
      

      
      

      
      
        
        
        
        <li><a href="https://github.com/influxdata/telegraf/tree/v1.37.0/plugins/inputs/amqp_consumer/README.md" target="_blank">AMQP Consumer Plugin Source</a></li>

      
      
    
    </ul>
  </div>


    





    








  
  








<hr/>
<div class="helpful">
  <p>Was this page helpful?</p>
  <form onSubmit="return submitFeedbackForm('pagefeedback')" id="pagefeedback">
    <input type="text" name="fname" class="bowlofsweets" placeholder="First Name">
    <label class="radio-btns" id="helpful"><input  type="radio" name="helpful" value=true />Yes</label>
    <label class="radio-btns" id="not-helpful"><input  type="radio" name="helpful" value=false />No</label>
  </form>
  <div id="thank-you">
    <p>Thank you for your feedback!</p>
  </div>
  <div class="loader-wrapper">
    <div class="loader"></div>
  </div>
</div>
<hr/>
<div class="feedback block">
  <div class="support">
    <h4 id="bug-reports-and-feedback">Support and feedback</h4>
    <p>
      Thank you for being part of our community!
      We welcome and encourage your feedback and bug reports for  and this documentation.
      To find support, use the following resources:
    </p>
    <ul>
      
        <li><a class="slack" href="https://influxdata.com/slack" target="_blank"><strong>InfluxDB Community Slack</strong>  <em style="opacity:.5">(Preferred)</em></a></li>
        <li><a class="discord" href="https://discord.gg/9zaNCW2PRT" target="_blank">InfluxDB Discord Server</a></li>
      
      <li><a class="community" href="https://community.influxdata.com/" target="_blank">InfluxData Community</a></li>
      <li><a class="reddit" href="https://reddit.com/r/influxdb" target="_blank">InfluxDB Subreddit</a></li>
    </ul>
    
      <p><strong>Customers with an annual or support contract</strong> can <a href="https://support.influxdata.com/">contact InfluxData Support</a>.
         

    
  </div>
  <div class="actions">
    <a href="https://github.com/influxdata/docs-v2/edit/master/content/telegraf/v1/input-plugins/amqp_consumer/_index.md" class="btn edit" target="_blank">Edit this page</a>
    <a href="https://github.com/influxdata/docs-v2/issues/new?body=_Describe%20the%20issue%20here._%0a%0a%23%23%23%23%23%20Relevant%20URLs%0a-%20https://influxdata.github.io/docs-v2/pr-preview/pr-6599/telegraf/v1/input-plugins/amqp_consumer/%0a-%20_Provide%20other%20relevant%20URLs%20%28project%20issues,%20community%20threads,%20etc.%29_%0a" class="btn issue" target="_blank">Submit docs issue</a>
    <a href="https://github.com/influxdata/docs-v2/issues/new/choose/" class="btn issue" target="_blank">Submit  issue</a>
  </div>
</div>



  </article>
</div>

    <div class="copyright">Â© 2025 InfluxData, Inc.</div>
  </div>
</div>





  
  
<div class="modal">
  <div class="modal-overlay"></div>
  <div class="modal-wrapper">
    <div class="modal-body">
      <a id="modal-close"href="#"><span class="icon-remove"></span></a>
      
      






























<div class="modal-content" id="influxdb-url-list">
  <h3>Where are you running InfluxDB?</h3>
  <p>Select your <strong>InfluxDB Cloud region and cluster</strong> or your <strong>InfluxDB OSS URL</strong> and we&rsquo;ll customize code examples for you. <em><a href="/influxdb/cloud/reference/regions/#regions-with-multiple-clusters">Identify your InfluxDB Cloud cluster</a></em>.</p>
  <div class="products">
    
      <ul id="pref-tabs">
        <li class="pref-tab active" id="pref-cloud"><span class="ephemeral">InfluxDB </span>Cloud</li>
        <li class="pref-tab" id="pref-oss"><span class="ephemeral">InfluxDB </span>OSS or <span class="abbr">Ent</span><span class="ephemeral">erprise</span></li>
      </ul>
      
  
  
  
  
  <div class="product active" id="cloud-urls">
    <div class="providers">
      
      
        <div class="provider">
          
            <h5>AWS</h5>
            <ul>
            
            
              <li class="region-group">
                
                  <p class="region">
                    <span class="fake-radio"></span>
                    US West (Oregon)
                  </p>
                  <ul class="clusters">
                  
                    <li>
                      <label for="us-west-2-1" >
                      <input type="radio" name="influxdb-cloud-url" id="us-west-2-1" value="https://us-west-2-1.aws.cloud2.influxdata.com" checked>
                      <span class="radio"></span>
                      us-west-2-1
                    </label>
                    </li>
                  
                    <li>
                      <label for="us-west-2-2" >
                      <input type="radio" name="influxdb-cloud-url" id="us-west-2-2" value="https://us-west-2-2.aws.cloud2.influxdata.com" checked>
                      <span class="radio"></span>
                      us-west-2-2
                    </label>
                    </li>
                  
                  </ul>
                
              </li>
            
              <li class="region-group">
                
                  <label for="us-east-virginia" >
                    <input type="radio" name="influxdb-cloud-url" id="us-east-virginia" value="https://us-east-1-1.aws.cloud2.influxdata.com" checked>
                    <span class="radio"></span>
                    US East (Virginia)
                  </label>
                
              </li>
            
              <li class="region-group">
                
                  <label for="eu-frankfurt" >
                    <input type="radio" name="influxdb-cloud-url" id="eu-frankfurt" value="https://eu-central-1-1.aws.cloud2.influxdata.com" checked>
                    <span class="radio"></span>
                    EU Frankfurt
                  </label>
                
              </li>
            
          
          </ul>
        </div>
      
        <div class="provider">
          
            <h5>GCP</h5>
            <ul>
            
            
              <li class="region-group">
                
                  <label for="us-central-iowa" >
                    <input type="radio" name="influxdb-cloud-url" id="us-central-iowa" value="https://us-central1-1.gcp.cloud2.influxdata.com" checked>
                    <span class="radio"></span>
                    US Central (Iowa)
                  </label>
                
              </li>
            
          
          </ul>
        </div>
      
        <div class="provider">
          
            <h5>Azure</h5>
            <ul>
            
            
              <li class="region-group">
                
                  <label for="west-europe-amsterdam" >
                    <input type="radio" name="influxdb-cloud-url" id="west-europe-amsterdam" value="https://westeurope-1.azure.cloud2.influxdata.com" checked>
                    <span class="radio"></span>
                    West Europe (Amsterdam)
                  </label>
                
              </li>
            
              <li class="region-group">
                
                  <label for="east-us-virginia" >
                    <input type="radio" name="influxdb-cloud-url" id="east-us-virginia" value="https://eastus-1.azure.cloud2.influxdata.com" checked>
                    <span class="radio"></span>
                    East US (Virginia)
                  </label>
                
              </li>
            
          
          </ul>
        </div>
      
    </div>
  </div>

      
  
  
  
  
  <div class="product inactive" id="oss-urls">
    <div class="providers">
      
      
        <div class="provider">
          
            <h5>Default</h5>
            <ul>
            
            
              <li class="region-group">
                
                  <label for="localhost8086" >
                    <input type="radio" name="influxdb-oss-url" id="localhost8086" value="http://localhost:8086" checked>
                    <span class="radio"></span>
                    localhost:8086
                  </label>
                
              </li>
            
          
          </ul>
        </div>
      
        <div class="provider">
          
            <h5>Custom</h5>
            <ul>
              <li class="custom">
                <label for="custom">
                  <input type="radio" name="influxdb-oss-url" id="custom" value="http://example.com:8080" checked>
                  <span class="radio"></span>
                </label>
                <form action="#" id="custom-url" data-message="">
                  <input type="text" name="custom-url-field" id="custom-url-field" placeholder="http://example.com:8080">
                </form>
              </li>
            </ul>
          
          </ul>
        </div>
      
    </div>
  </div>

    
  </div>
  <p class="note">For more information, see <a href="/influxdb/cloud/reference/regions/">InfluxDB Cloud regions</a> or <a href="/influxdb/v2/reference/urls/">InfluxDB OSS URLs</a>.</p>
</div>


      




  

  
    
    
    
      
    
    
    
  

  

  
    
    
    
      
    
    
      
    
    
  

  
    
    
    
      
    
    
      
    
    
  

  
    
    
    
      
    
    
      
    
    
  

  
    
    
    
      
    
    
      
    
    
  

  
    
    
    
      
    
    
      
    
    
  

  
    
    
    
      
    
    
      
    
    
  

  

  
    
    
    
      
    
    
      
    
    
  

  

  


<div class="modal-content" id="influxdb-version-detector">
  <div data-component="influxdb-version-detector"
       data-products='{&#34;enterprise_influxdb&#34;:{&#34;characteristics&#34;:[&#34;Paid&#34;,&#34;Self-hosted&#34;,&#34;InfluxQL/Flux&#34;,&#34;Username/Password&#34;,&#34;Databases&#34;],&#34;detection&#34;:{&#34;ping_headers&#34;:{&#34;x-influxdb-build&#34;:&#34;Enterprise&#34;}},&#34;name&#34;:&#34;InfluxDB Enterprise v1&#34;,&#34;query_languages&#34;:{&#34;Flux&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;User&#34;,&#34;Password&#34;,&#34;Default database&#34;]},&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Database&#34;,&#34;User&#34;,&#34;Password&#34;]}}},&#34;influxdb&#34;:{&#34;characteristics&#34;:[&#34;Free&#34;,&#34;Self-hosted&#34;,&#34;InfluxQL/Flux&#34;,&#34;Token or Username/Password&#34;,&#34;Buckets&#34;],&#34;detection&#34;:{&#34;ping_headers&#34;:{&#34;x-influxdb-build&#34;:&#34;OSS&#34;,&#34;x-influxdb-version&#34;:&#34;^(1|2)\\.&#34;},&#34;url_contains&#34;:[&#34;localhost:8086&#34;]},&#34;name&#34;:&#34;InfluxDB&#34;,&#34;placeholder_host&#34;:&#34;localhost:8086&#34;,&#34;query_languages&#34;:{&#34;Flux&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Token&#34;,&#34;Default bucket&#34;]},&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Database&#34;,&#34;Auth Type (Basic or Token)&#34;]}}},&#34;influxdb3_cloud_dedicated&#34;:{&#34;characteristics&#34;:[&#34;Paid&#34;,&#34;Cloud&#34;,&#34;SQL/InfluxQL&#34;,&#34;Token&#34;,&#34;Databases&#34;],&#34;detection&#34;:{&#34;url_contains&#34;:[&#34;influxdb.io&#34;]},&#34;name&#34;:&#34;InfluxDB Cloud Dedicated&#34;,&#34;placeholder_host&#34;:&#34;cluster-id.a.influxdb.io&#34;,&#34;query_languages&#34;:{&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;,&#34;Token&#34;]},&#34;SQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;,&#34;Token&#34;]}}},&#34;influxdb3_cloud_serverless&#34;:{&#34;characteristics&#34;:[&#34;Paid/Free&#34;,&#34;Cloud&#34;,&#34;All languages&#34;,&#34;Token&#34;,&#34;Buckets&#34;],&#34;detection&#34;:{&#34;url_contains&#34;:[&#34;us-east-1-1.aws.cloud2.influxdata.com&#34;,&#34;eu-central-1-1.aws.cloud2.influxdata.com&#34;]},&#34;name&#34;:&#34;InfluxDB Cloud Serverless&#34;,&#34;placeholder_host&#34;:&#34;cloud2.influxdata.com&#34;,&#34;query_languages&#34;:{&#34;Flux&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Organization&#34;,&#34;Token&#34;,&#34;Default bucket&#34;]},&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Bucket&#34;,&#34;Token&#34;]},&#34;SQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Bucket&#34;,&#34;Token&#34;]}}},&#34;influxdb3_clustered&#34;:{&#34;characteristics&#34;:[&#34;Paid&#34;,&#34;Self-hosted&#34;,&#34;SQL/InfluxQL&#34;,&#34;Token&#34;,&#34;Databases&#34;],&#34;detection&#34;:{&#34;ping_headers&#34;:{&#34;x-influxdb-version&#34;:&#34;influxqlbridged-development&#34;}},&#34;name&#34;:&#34;InfluxDB Clustered&#34;,&#34;placeholder_host&#34;:&#34;cluster-host.com&#34;,&#34;query_languages&#34;:{&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Database&#34;,&#34;Token&#34;]},&#34;SQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;,&#34;Token&#34;]}}},&#34;influxdb3_core&#34;:{&#34;characteristics&#34;:[&#34;Free&#34;,&#34;Self-hosted&#34;,&#34;SQL/InfluxQL&#34;,&#34;No auth required&#34;,&#34;Databases&#34;],&#34;detection&#34;:{&#34;ping_headers&#34;:{&#34;x-influxdb-build&#34;:&#34;Core&#34;,&#34;x-influxdb-version&#34;:&#34;^3\\.&#34;},&#34;url_contains&#34;:[&#34;localhost:8181&#34;]},&#34;name&#34;:&#34;InfluxDB 3 Core&#34;,&#34;placeholder_host&#34;:&#34;localhost:8181&#34;,&#34;query_languages&#34;:{&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;]},&#34;SQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;]}}},&#34;influxdb3_enterprise&#34;:{&#34;characteristics&#34;:[&#34;Paid&#34;,&#34;Self-hosted&#34;,&#34;SQL/InfluxQL&#34;,&#34;Token&#34;,&#34;Databases&#34;],&#34;detection&#34;:{&#34;ping_headers&#34;:{&#34;x-influxdb-build&#34;:&#34;Enterprise&#34;,&#34;x-influxdb-version&#34;:&#34;^3\\.&#34;},&#34;url_contains&#34;:[&#34;localhost:8181&#34;]},&#34;name&#34;:&#34;InfluxDB 3 Enterprise&#34;,&#34;placeholder_host&#34;:&#34;localhost:8181&#34;,&#34;query_languages&#34;:{&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;,&#34;Token&#34;]},&#34;SQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;Host&#34;,&#34;Database&#34;,&#34;Token&#34;]}}},&#34;influxdb_cloud&#34;:{&#34;characteristics&#34;:[&#34;Paid/Free&#34;,&#34;Cloud&#34;,&#34;InfluxQL/Flux&#34;,&#34;Token&#34;,&#34;Databases/Buckets&#34;],&#34;detection&#34;:{&#34;url_contains&#34;:[&#34;us-west-2-1.aws.cloud2.influxdata.com&#34;,&#34;us-west-2-2.aws.cloud2.influxdata.com&#34;,&#34;us-east-1-1.aws.cloud2.influxdata.com&#34;,&#34;eu-central-1-1.aws.cloud2.influxdata.com&#34;,&#34;us-central1-1.gcp.cloud2.influxdata.com&#34;,&#34;westeurope-1.azure.cloud2.influxdata.com&#34;,&#34;eastus-1.azure.cloud2.influxdata.com&#34;]},&#34;name&#34;:&#34;InfluxDB Cloud (TSM)&#34;,&#34;placeholder_host&#34;:&#34;cloud2.influxdata.com&#34;,&#34;query_languages&#34;:{&#34;Flux&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Organization&#34;,&#34;Token&#34;,&#34;Default bucket&#34;]},&#34;InfluxQL&#34;:{&#34;optional_params&#34;:[],&#34;required_params&#34;:[&#34;URL&#34;,&#34;Database&#34;,&#34;Token&#34;]}}}}'
       data-influxdb-urls='#ZgotmplZ'></div>
</div>
      <div class="modal-content" id="page-feedback">
  <h3>Thank you for your feedback!</h3>
  <p>Let us know what we can do better:</p>
  
  <form id="pagefeedbacktext">
    <input type="text" name="fname" class="bowlofsweets" placeholder="First Name">
    <div class="lifecycle-wrapper">
      <textarea name="feedback-text"  placeholder="Missing information? Unclear explanations? Help us improve this page!"></textarea>
      <div id="thank-you">
        <p>Thank you!</p>
      </div>
      <div class="loader-wrapper">
        <div class="loader"></div>
      </div>
    </div>
    <div class="form-buttons">
      <div id="no-thanks">
        No thanks
      </div>
      <div class="submit-wrapper">
        <input type="submit" value="Submit" onclick="return submitLifeCycleAndClose();">
      </div>
    </div>
  </form>
 
</div>

      
      
    </div>
  </div>
</div>
  













  <div class="fullscreen-code highlight">
  <div id="fullscreen-code-placeholder"></div>
  <a class="fullscreen-close"><span class="icon-x"></span></a>
</div>


  
  









<div 
  data-component="doc-search"
  data-api-key="501434b53a46a92a7931aecc7c9672e2"
  data-app-id="WHM9UWMP6M"
  data-index-name="influxdata"
  data-input-selector="#algolia-search-input"
  data-search-tag="docs-v2-pr-preview"
  data-include-flux="false"
  data-include-resources="true"
  data-debug="true"
></div>


  
  <div id="docs-notifications">
  
    <div class="notification note min" id="influxdb3.8-explorer-1.6" data-scope='/' data-exclude=''>
      <div class="close-notification"><span class="cf-icon Remove_New"></span></div> 
      <div class="notification-title">
        
        <h3>New in InfluxDB 3.8</h3>
      </div>
      
      <div class="notification-slug">
        <p>Key enhancements in InfluxDB 3.8 and the InfluxDB 3 Explorer 1.6.</p>
<p><a class="btn" href="https://www.influxdata.com/blog/influxdb-3-8/">See the Blog Post</a></p>

      </div>
      
      
      <div class="notification-content">
        <p>InfluxDB 3.8 is now available for both Core and Enterprise, alongside the
1.6 release of the InfluxDB 3 Explorer UI. This release is focused on
operational maturity and making InfluxDB easier to deploy, manage, and run
reliably in production.</p>
<p>For more information, check out:</p>
<ul>
<li><a href="https://www.influxdata.com/blog/influxdb-3-8/">See the announcement blog post</a></li>
<li><a href="/influxdb3/core/release-notes/">InfluxDB 3 Core release notes</a></li>
<li><a href="/influxdb3/enterprise/release-notes/">InfluxDB 3 Enterprise release notes</a></li>
</ul>

      </div>
      <span class="show"></span>
           
    </div>
  
    <div class="notification warn min" id="influxdb-docker-latest-tag" data-scope='/' data-exclude='/telegraf/,/platform/,/kapacitor/,/chronograf/,/enterprise_influxdb/,/influxdb3/explorer/,/influxdb3/cloud,/influxdb/cloud'>
      <div class="close-notification"><span class="cf-icon Remove_New"></span></div> 
      <div class="notification-title">
        
        <h3>InfluxDB Docker latest tag changing to InfluxDB 3 Core</h3>
      </div>
      
      <div class="notification-slug">
        On <strong>February 3, 2026</strong>, the <code>latest</code> tag for InfluxDB Docker images will
point to InfluxDB 3 Core. To avoid unexpected upgrades, use specific version
tags in your Docker deployments.
      </div>
      
      
      <div class="notification-content">
        <p>If using Docker to install and run InfluxDB, the <code>latest</code> tag will point to
InfluxDB 3 Core. To avoid unexpected upgrades, use specific version tags in
your Docker deployments. For example, if using Docker to run InfluxDB v2,
replace the <code>latest</code> version tag with a specific version tag in your Docker
pull command&ndash;for example:</p>


<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sh" data-lang="sh"><span class="line"><span class="cl">docker pull influxdb:2</span></span></code></pre></div>
      </div>
      <span class="show"></span>
           
    </div>
  
</div>



  
  <div class="footer-widgets">
  
  
  
  <div class="ask-ai-trigger widget magenta" data-component="ask-ai-trigger" data-tooltip="Ask InfluxData AI for help" style="display: none;">
  <a class="ask-ai-open" >
    <div class="icon-influx-logo"></div>
    Ask AI
  </a>
</div>
</div>

  
  

  </body>
  
<script type="text/javascript">
  cloudUrls = ["https:\/\/us-west-2-1.aws.cloud2.influxdata.com", "https:\/\/us-east-1-1.aws.cloud2.influxdata.com", "https:\/\/eu-central-1-1.aws.cloud2.influxdata.com", "https:\/\/us-central1-1.gcp.cloud2.influxdata.com", "https:\/\/westeurope-1.azure.cloud2.influxdata.com", "https:\/\/eastus-1.azure.cloud2.influxdata.com", ]
</script>

</html>

