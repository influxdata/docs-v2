# For examples, see the Awesome Compose repository:
# https://github.com/docker/awesome-compose
services:
  test:
    image: docs-v2-tests
    container_name: docs-v2-tests
    env_file:
      - ./test/.env.influxdbv2
      - ./test/.env.influxdbv3
    volumes:
      - type: bind
        source: ./test
        target: /usr/src/app/test
      - type: bind
        source: ./data
        target: /usr/src/app/test/data
    build:
      context: .
      dockerfile: Dockerfile
      args:
        - SOURCE_DIR=test        