{{/*
  Normalize API path for URL generation

  Transforms an API path to a URL-friendly slug:
  1. Strips leading "/api" prefix (parent directory provides /api/)
  2. Adds v1/ prefix for paths without a version (e.g., /write â†’ v1/write)
  3. Strips leading "/" to avoid double slashes

  Parameters:
  - path: The API path (e.g., "/write", "/api/v3/configure/database")

  Returns: URL-safe path slug (e.g., "v1/write", "v3/configure/database")
*/}}
{{ $path := . | strings.TrimPrefix "/api" }}
{{ if not (findRE `^/v\d+/` $path) }}
  {{ $path = printf "/v1%s" $path }}
{{ end }}
{{ $path = $path | strings.TrimPrefix "/" }}
{{ return $path }}
